/**
 * react-mesh v0.4.0
 * Author: Hanks <zhanghan.me@gmail.com>
 * Build: 2017-07-21 00:30
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):e.ReactMeshComponent=t(e.React)}(this,function(e){"use strict";function t(e,t){return e[0]===t[0]&&e[1]===t[1]}function r(e,t){return[[e[0],e[1]],[e[0]+t[0],e[1]],[e[0],e[1]+t[1]],[e[0]+t[0],e[1]+t[1]]]}function n(e,r){return e.filter(function(e){return r.every(function(r){return!t(e,r)})})}function o(e,t){return n(e,t).concat(n(t,e))}function u(e){for(var t=Number.MAX_VALUE,r=Number.MAX_VALUE,n=0;n<e.length;++n){var o=e[n];o[1]<r?(t=o[0],r=o[1]):o[1]===r&&(t=o[0]<t?o[0]:t)}return[t,r]}function i(e,t){for(var n=[0,0],i=[n,[Number(e),0]],a=[[0,0]],f=0;f<t.length;++f)i=o(i,r(n,t[f])),a[f+1]=n=u(i);return a}function a(e){return e?"object"==typeof WXEnvironment&&"Web"!==WXEnvironment.platform?Number(e):e+"px":0}function f(e){return e.split(/\s*\,\s*/).map(Number)}function p(e){return"string"==typeof e?e.split(/\s*\|\s*/).map(f):Array.isArray(e)?e:[]}function s(e,t){void 0===t&&(t={});var r=Number(e.width)||750,n=Number(e.column)||12,o=p(e.layout||[]),u=t.orders||o.map(function(e,t){return t+1}),f=t.offsets||o.map(function(e){return[0,0]}),s=Number(e.gap)||0,l=(r+s)/n,c=i(n,o);return{wrapperStyle:{position:"relative",width:a(r),height:a(c.pop()[1]*l-s)},layoutStyle:u.map(function(e){return{position:"absolute",top:a((c[e-1][1]+f[e-1][1])*l),left:a((c[e-1][0]+f[e-1][0])*l),width:a(o[e-1][0]*l-s),height:a(o[e-1][1]*l-s)}})}}function l(e,t){var r=e.props;return r&&r[t]?r[t]:null}function c(t){var r=s(t,parseChildren(t,t.children,l)),n=r.wrapperStyle,o=r.layoutStyle;return e.createElement("div",{style:Object.assign({},t.style,n)},e.Children.map(t.children,function(t,r){var n={style:Object.assign({},t.props.style,o[r])};return t.type===c&&(n.width=parseFloat(o[r].width)),e.cloneElement(t,n)}))}e="default"in e?e.default:e;var d=e.PropTypes,m=d.arrayOf,y=d.number,h=d.oneOfType,b=d.string;return c.propTypes={width:h([y,b]),column:h([y,b]),gap:h([y,b]),orders:h([m(y),b]),offsets:h([m(m(y)),b]),layout:h([m(m(y)),b]).isRequired},c.defaultProps={layout:[]},c});